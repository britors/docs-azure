![Portal Azure](data:image/png;base64,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)
# Criando uma maquina virtual no Azure
Esse tutorial tem como objetivo ajudar a criar uma VM do tipo Ubuntu LTS no Azure. Eu considero que você já tenha uma conta no Azure e que já tenha instalado e configurado o Azure CLI. Se você não tem uma conta no Azure, crie uma [aqui](https://azure.microsoft.com/pt-br/free/). Se você não tem o Azure CLI instalado, instale [aqui](https://docs.microsoft.com/pt-br/cli/azure/install-azure-cli-linux?pivots=apt).  Testei ele usando Ubuntu 22.04.1 LTS porém você pode utilizá-lo no Windows via WSL.

![Badge](https://img.shields.io/badge/Status-em%20desenvolvimento-yellow) 
[![Azure](https://img.shields.io/badge/Azure-Portal-darkblue)](https://portal.azure.com/) [![Ubuntu](https://img.shields.io/badge/Ubuntu-20.04+-orange)](http://ubuntu.com) [![Windows](https://img.shields.io/badge/Windows-WSL-blue)](https://learn.microsoft.com/pt-br/windows/wsl/install)
[![made-with-VSCode](https://img.shields.io/badge/Made%20With-VSCode-1f425f.svg)](https://code.visualstudio.com/) 
[![GPLv3 license](https://img.shields.io/badge/License-GPLv3-blue.svg)](http://perso.crans.org/besson/LICENSE.html)

## Exportar variáveis de ambiente
Crie variáveis de ambiente para facilitar a criação do cluster.
```bash
VM_NAME="nome da VM"
VM_RG="nome para o resource group"
SUBSCRIPTION="nome da sua assinatura"
REGION="região da VM"
VM_ADMIN="nome do usuário"
VM_SIZE="tamanho da VM. exemplo: 'Standard_A2_v2'"
VM_RULE="regra de segurança. exemplo: 'ssh'"
VM_PUBLIC_IP_ALLOC="tipo de IP público exemplo: 'static'"
VM_PUBLIC_IP_SKU="tipo de IP público exemplo: 'Basic'"
```
## Criar a Maquina Virtual
Crie a maquina com o seguinte comando:

```bash	
az vm create \
  --location $REGION \
  --subscription $SUBSCRIPTION \
  --resource-group $VM_RG \
  --name $VM_NAME \
  --ssh-key-values $HOME/.ssh/id_rsa.pub \
  --admin-username $VM_ADMIN \
  --image UbuntuLTS \
  --nsg-rule $VM_RULE \
  --public-ip-address-allocation $VM_PUBLIC_IP_ALLOC \
  --public-ip-sku $VM_PUBLIC_IP_SKU \
  --size $VM_SIZE
  ```	